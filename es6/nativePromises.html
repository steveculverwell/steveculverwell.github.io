<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ES6 - Destructuring</title>
	<link href="https://fonts.googleapis.com/css?family=Quicksand|Roboto:300" rel="stylesheet">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/prism.css">
	<script src="js/prism.js"></script>
</head>
<body>

<div class="main">
	<div class="es6-container--item">
		<h2>Native Promises</h2>
		<p class="credit">example taken from http://wesbos.com/courses</<p></p>
		<div class="box">
			<p>Native browser Promise API</p>
<pre>
<code class="language-js">fetch('https://api.github.com/users/steveculverwell')
.then(res => {
	return res.json();
})
.then(res => {
	console.log(res);
})
.catch(err => {
	console.error(err)
});
</code>
		</pre>
	</div>

	<div class="box">
		<h2>Webcam</h2>
		<p>You need to be on <a href="https://steveculverwell.github.io/es6/nativePromises.html">https://</a></p>
		<video controls class="videoWindow"></video>
		<pre>
<code class="language-js">const video = document.querySelector('.videoWindow');

navigator.mediaDevices.getUserMedia({ video:true })
// when the user taps Allow on the web cam permissions box
// this gives up the mediaStream below.
.then(mediaStream => {
	video.srcObject = mediaStream;
	video.load();
	video.play();
}).catch(err => {
	// if permissions are denied.
	console.error(`An error has occured: ${err.name}`)
});
</code>
		</pre>
	</div>



	</div>
</div>







<script type="text/javascript">
		fetch('https://api.github.com/users/steveculverwell').then(res => {
			return res.json();
		}).then(res => {
			console.log(res);
		}).catch(err => {
			console.error(err)
		});

		const video = document.querySelector('.videoWindow');
		navigator.mediaDevices.getUserMedia({ video:true })
		.then(mediaStream => {
			video.srcObject = mediaStream;
			video.load();
			video.play();
		}).catch(err => {
			console.error(`An error has occured: ${err.name}`)
		});
</script>
</body>
</html>
